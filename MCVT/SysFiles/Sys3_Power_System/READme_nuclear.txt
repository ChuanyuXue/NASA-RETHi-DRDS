Header Info
	Date Created: 28 July 2021
	Date Last Modified: 2 August 2021
	Developers: Ryan Tomastik, Donald McMenemy
	Version Number: MCVT v4
	Funding Acknowledgement: Funded by the NASA RETHi Project

I. Functional Requirement
	The purpose of the nuclear model model is to model the power generated by the SP-100 nuclear power generator as well as dust accumulation and its effects on the power generation. The power distribution and storage model satisfies the power requirements of the structural, interior, and ECLSS subsystems by allocating power generation among nuclear, solar and battery subsystems. It is capable of charging or discharging a battery as needed, keeping track of how much power is stored and how much time is available until the battery is fully discharged.

II. Introduction
	The nuclear power model is based on one obtained from the thesis of Justin Langlois. See the power subsystem documentation report to learn more.

III. Inputs
	Sub3_In_Dust_Accumulation_Nuclear: Float; the dust accumulation on the nuclear radiator panels (mg/cm^2), 1-dimension
	Sub3_In_Dust_Accumulation_PV: Float; the dust accumulation on the solar panels (mg/cm^2), 1-dimension
	Sub3_In_Solar_Flux: Float; the solar flux affecting the solar panels (W/m^2), 1-dimension
	Sub3_In_Power_Consumed_by_Sub2: Float; the power that is being requested by structural subsystem (kW), 1-dimension
	Sub3_In_Power_Consumed_by_Sub5: Float; the power that is being requested by ECLSS subsystem (kW), 1-dimension
	Sub3_In_Power_Consumed_by_Sub8: Float; the power that is being requested by interior environment subsystem (kW), 1-dimension
	Sub3_In_Intervention: 3-dimensional vector, [Float, Float, Int]; the nuclear intervention cleaning time (s), the nuclear intervention cleaning rate (mg/cm^2/s), and the nuclear intervention signal (unitless)

IV. Outputs
	Sub3_Out_Damage_Information: 3-dimensional vector, [Int, Int, Int]; the FDD signal for solar FDD, solar simulated FDD, and nuclear FDD (unitless)
	Sub3_Out_Current_Power_Stored: 1-dimension, Float; the power stored within the battery (kWh) 
	Sub3_Out_Power_Supply_to_Sub2: 1-dimension, Float; the power that is being sent to structural subsystem (kW)
	Sub3_Out_Power_Supply_to_Sub5: 1-dimension, Float; the power that is being sent to ECLSS subsystem (kW)
	Sub3_Out_Power_Supply_to_Sub8: 1-dimension, Float; the power that is being sent to interior environment subsystem (kW)
	Sub3_Out_total_power: 2-dimensional vector, [Float, Float]; the power generated by solar and nuclear models (kW, kW)
	Sub3_Out_Physical_Inputs_Agents: 2-dimensional vector, [Float, Float]; the variables from solar and nuclear models used to determine intervention (unitless, mg/cm^2)

V. Simulink Model Block Organization
	The Simulink model uses MATLAB Function blocks to implement MATLAB algorithms into Simulink.

VI. Steps to Run
	Follows the steps of the MCVT Manual.

VII. Bug Reporting
	The code was written in MATLAB R2020b.













The files required for the nuclear power and power distribution models are organized into 3 folders: "init_callback_function", "mat_files", and "Nuclear".

The function Sys3_power.m is located in the Subs3 folder, and the purpose of this function is to call on the files located within the previously mentioned folders when the simulation is ran.

The mat_files folder contains data stored in .mat files. This data is loaded into the workspace by the file inside the init_callback_function folder, called "init_sim_v7.m". The purpose of this function is to initialize variables used within the nuclear power subsystem, and is split into multiple sections.
1. The first section initializes variables and defines constants for the nuclear power model.
2. The second section defines constants for the power distribution model.
3. The third section loads data for the nuclear model from the mat_files folder, as well as defining more constants for the nuclear model. Additionally, this section creates some of the input variables for the nuclear model, and loads data for the dust surrogate models.
4. The fourth and final section defines constants for parameters of the radiator loop.

The Nuclear folder contains 4 .m files that are used in the Simulink model: power_distribution.m, power_deliver.m, cusum.m, and FDD_toggle.m.
1. The purpose of power_distribution.m is to distribute the power generation between subsystems and a battery, as well as tracking the power within the battery.
2. The purpose of power_deliver.m is to decide where to send the power generation modified by the power distribution system.
3. The purpose of cusum.m is to calculate the CUSUM statistic used for FDD.
4. The purpose of FDD_toggle.m is to ensure that the nuclear FDD behaves as expected when nuclear and/or battery power is toggled off in the input file.
For more information on these 4 .m files, see the detailed documentation within each file.